


<!doctype html>
<html lang="en">
	<head>
  		

		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-QHYLVSRXM2"></script>
		<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'G-QHYLVSRXM2');
		</script>

		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="author" content="Web Team SARC Blag">
		<meta name="description" content="Yearbook belongs to SARC IIT-B">
		<meta name="keywords" content="sarc, iitb, alumni, database, mumbai, indian institute of technology, IIT, yearbook">
		
		<meta property="og:url" content="https://yearbook.sarc-iitb.org/student-17U130002/" />
		<meta property="og:title" content="I am now on Yearbook!" />
		<meta property="og:image" content="https://yearbook.sarc-iitb.org/media/" /> 
		<meta property="og:image:width" content="400" />
		<meta property="og:image:height" content="300" />
		<meta property="og:description" content=" Harshit Satija has joined yearbook. Follow the link to write about this person." />
		<meta property="og:type" content="website" />

		<title>Harshit Satija || Yearbook 2021</title>
		<style type="text/css">
			#ajaxloader{
				position:fixed;
				background-color:white;
				z-index:100;
				width:100%;
				height:100%;
				left:0;
				top:0;
			}
		</style>
		<link rel="shortcut icon" href="/static/img/logo/favicon.png">
		<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
		<link href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" rel="stylesheet">
		<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
		<link href="/static/vendor/Hover-master/css/hover-min.css" rel="stylesheet">
		<link rel="stylesheet" href="/static/vendor/Croppie-2.4.1/croppie.css" />
		<link href="/static/css/style.css" rel="stylesheet"/>
		<link href='/static/jquery-mentionable/jquery.mentionable.css' media="all" rel="stylesheet" type="text/css">
		<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
		<link href="/static/emoji-picker/lib/css/emoji.css" rel="stylesheet">

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
		<script src="/static/jscroll/jquery.jscroll.js"></script>
		<script src='/static/jquery-mentionable/jquery.mentionable.js'></script>
		<script src="/static/js/script.js"></script>
		<script src="/static/vendor/Croppie-2.4.1/croppie.min.js"></script>
		<script src="/static/easyAutocomplete/jquery.easy-autocomplete.min.js"></script>
		<script src="/static/js/typeahead.bundle.js"></script>
		<script src="/static/jquery-ui/jquery-ui.js"></script>
		<script src="https://cdn.ckeditor.com/4.16.0/standard-all/ckeditor.js"></script>

		
		
  <!--fb plugin-->
  <script src="/static/jquery-mentionable/jquery.mentionable.js"></script>
		
  <script type="text/javascript">
    $(window).on( "load", function() { 
      $("#ajaxloader").fadeOut(50);
    });
	var login_done = "True";
	if (login_done == "False"){
		alert("You should login first before continuing. Redirecting to Login page");
		window.location = "https://yearbook.sarc-iitb.org/?r="+window.location.pathname.substr(1,17);
	}
  </script>

	</head>
	<body>
		<div id="fb-root"></div>
		<script async defer src="https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v3.2&appId=2057106311229190&autoLogAppEvents=1"></script>
		<div id="ajaxloader">
			<div id="colored"></div>
		</div>
		    <!-- Navigation starts here -->
      <!-- For medium and large devices -->
    <nav class="navigation visible-md visible-lg z-index-1">
      <div class="container-fluid text-center">
        <div class="row">
          <!-- Logo -->
          <div class="col-md-2">
            <a href="/home" class="logo">
              <img src="/static/img/logo/YearBook_logo_2021.png" class="img-responsive"/>
            </a>
          </div>

          <!-- Search -->
          <div class="col-md-4">
            <form>
              <div class="form-group margin-0 search">
                <span class="fa fa-search "></span>
                <input type="text" class="form-control peopleSearch" id="inputGroupSuccess1" aria-describedby="inputGroupSuccess1Status" placeholder="Search your friends..">
              </div>
            </form>
          </div>

          <!-- SARC logo -->
          <div class="col-md-1">
            <a href="https://www.facebook.com/SARC.IITB/" target="_blank" class="logo"><img src="/static/img/logo/sarc.png" class="img-responsive" /></a>
          </div>

          <!-- IITB logo -->
          <div class="col-md-2">
             <img src="/static/img/logo/IITBombay-grey.png" class="img-responsive IITB-logo" />
          </div>

          <!-- Nav controls -->
          <div class="col-md-3">
            <ul class="list-inline pull-right user-controls margin-0">
              <li>
                <a href="/home/"><i class="fa fa-home"></i></a>
              </li>
		<li>
            	<a href="/imghome/"><i class="fa fa-picture-o"></i></a>
	        </li>
       		 <li>
	         <a href="/polls/"><i class="fa fa-bar-chart"></i></a>
        	</li>
              <li>
                <a href="/profile/"><i class="fa fa-user-circle-o"></i></a>
              </li>
              <li>
                <a href="/about/"><i class="fa fa-hacker-news"></i></a>
              </li>
              <li>
                <a href="/logout/"><i class="fa fa-power-off "></i></a>
              </li>
            </ul>
          </div>
        </div>

      </div>
    </nav>

      <!-- For small and xsmall devices -->
    <nav class="m-navigation visible-sm visible-xs z-index-1">
      <div class="container-fluid text-center">
        <div class="row">
          <div class="col-xs-2 col-sm-2 text-left m-dropdown">
            <span class="fa fa-bars" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></span>
            <ul class="dropdown-menu">
              <li>
                <a href="/home/">
                  <i class="fa fa-home"></i>
                  Feed
                </a>
              </li>
           <li>
             <a href="/imghome/"><i class="fa fa-picture-o"></i>
              Impressions
             </a>
            </li>
           <li>
             <a href="/polls/"><i class="fa fa-bar-chart"></i>
              Polls
             </a>
           </li>

              <li>
                <a href="/profile/">
                  <i class="fa fa-user-circle-o"></i>
                  Profile
                </a>
              </li>
              <li>
                <a href="/about/">
                  <i class="fa fa-hacker-news"></i>
                  About
                </a>
              </li>
              <li>
                <a href="/logout/">
                  <i class="fa fa-power-off "></i>
                  Logout
                </a>
              </li>
            </ul>
          </div>
          <div class="col-xs-10 col-sm-10 position-relative">
            <div class="row">
              <div class="col-xs-10 col-sm-10">
                <a href="/home" class="logo">
                  <img src="/static/img/logo/YearBook_logo_2021.png" class="img-responsive"/>
                </a>
              </div>
            </div>
            <form class="m-search">
              <div class="form-group margin-0">
                <span class="fa fa-search "></span>
                <input type="text" class="form-control peopleSearch" id="inputGroupSuccess2" aria-describedby="inputGroupSuccess1Status" placeholder="Search your friends..">
              </div>
            </form>
          </div>
        </div>
      </div>
    </nav>
    <!-- Navigation ends here -->

		
	
		<!-- Main posts container starts here -->
		<div class="container-fluid offset-top">
			<div class="row">
				<div class="col-sm-12 col-md-8 col-md-offset-2 col-lg-8 col-lg-offset-2">
					<!-- Perosnal info start here -->

					<div class="row">
						<div class="col-md-5">
							<div class="profile-pic">
								<img src="/static/img/default.jpeg" class="img-responsive " width="100%"/>
								
								
								
								
							</div>
						</div>
						<div id="personal_info" class="col-md-7">
							<ul class="list-unstyled puser-details-list">
								<li>
									<h2>Harshit Satija 
									<h5>BDes-2021 | Industrial Design Centre | Hostel 5</h5>
									<h5></h5>
								</li>

								<li>
									<ul class="list-unstyled pquestions-list">
									
										<li>
											<h4>
												
												<span id="question-1">Select a question to answer about yourself</span>
											</h4>
											<h5 id="answer-1" class="answer">No answer yet.</h5>
											
										</li>
									
									</ul>
								</li>
								
							</ul>



							
							<button type="button" data-toggle="modal" data-target="#myModal" id="profile-write-for" class="margin-bottom-20" data-for="17U130002" data-by="NULL">
								<span class="fa fa-pencil"></span>
								Write For Harshit Satija
							</button>
							
						</div>
					</div>
					<!-- Perosnal info ends here -->

					<!-- Gallery starts here -->
					<div class="row gallery">
						<h4>Image Gallery</h4>
						
						<div class="image-container col-md-3 col-sm-4 col-xs-12">
							<div class="imageholder group-image">
								<div class="imagecontent">
									<img src="/static/img/placeholder.jpeg" id="image_display_0">
									
								</div>
								
									<button type="button"  class="img-zoom-button" data-image="image1">
										
									</button>
								
							</div>
						<!-- a class="inline-show-anchor" href="/static/img/placeholder.jpeg" target="_blank">Show</a -->
						</div>
						
						<div class="image-container col-md-3 col-sm-4 col-xs-12">
							<div class="imageholder group-image">
								<div class="imagecontent">
									<img src="/static/img/placeholder.jpeg" id="image_display_1">
									
								</div>
								
									<button type="button"  class="img-zoom-button" data-image="image2">
										
									</button>
								
							</div>
						<!-- a class="inline-show-anchor" href="/static/img/placeholder.jpeg" target="_blank">Show</a -->
						</div>
						
						<div class="image-container col-md-3 col-sm-4 col-xs-12">
							<div class="imageholder group-image">
								<div class="imagecontent">
									<img src="/static/img/placeholder.jpeg" id="image_display_2">
									
								</div>
								
									<button type="button"  class="img-zoom-button" data-image="image3">
										
									</button>
								
							</div>
						<!-- a class="inline-show-anchor" href="/static/img/placeholder.jpeg" target="_blank">Show</a -->
						</div>
						
						<div class="image-container col-md-3 col-sm-4 col-xs-12">
							<div class="imageholder group-image">
								<div class="imagecontent">
									<img src="/static/img/placeholder.jpeg" id="image_display_3">
									
								</div>
								
									<button type="button"  class="img-zoom-button" data-image="image4">
										
									</button>
								
							</div>
						<!-- a class="inline-show-anchor" href="/static/img/placeholder.jpeg" target="_blank">Show</a -->
						</div>
						
					</div>
					<!-- </div> -->
					<!-- Gallery ends here -->

					<!-- Posts starts here -->
					<div class="row">
						<div class="col-md-12">
							<ul class="list-inline posts-tab" id="myTabs" role="tablist">
								<li role="presentation" class="active">
									<a href="#home" id="home-tab" role="home-tab" data-toggle="tab" aria-controls="home" aria-expanded="false">What Others said...</a>
								</li>
								<li role="presentation" class="">
									<a href="#profile" role="tab" id="profile-tab" data-toggle="tab" aria-controls="profile" aria-expanded="true">What Harshit said...</a>
								</li>
								
							</ul>

							<div class="tab-content" id="myTabContent">
								<!-- Posted to user -->
								<div class="tab-pane fade active in" role="tabpanel" id="home" aria-labelledby="home-tab">
									<ul class="list-unstyled pposts-list">
										
										<li class="sub-post">
											<h4 class="text-center padding-top-bottom-15">No Posts</h4>
										</li>
										
									</ul>
								</div>
								<!-- Posted by user -->
								<div class="tab-pane fade" role="tabpanel" id="profile" aria-labelledby="profile-tab">
									<ul class="list-unstyled pposts-list">
										
										<li class="sub-post">
											<h4 class="text-center padding-top-bottom-15">No Posts</h4>
										</li>
										
									</ul>
								</div>
								<!-- Where user is tagged in senti posts-->
								
							</div>
						</div>
					</div> 
					<!-- Posts ends here -->
				</div>
			</div>
		</div>

		<!-- Modal -->
		<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <img src="/static/img/logo/YearBook_logo_2021.png" class="img-responsive"/>
      </div>
      <div class="memory-container">
        <input type="hidden" name="csrfmiddlewaretoken" value="HzTXlzGavTPZdWKOmmKKw4mqLiHnvAh0Z8C8v2bYCdVfHdIrEmRgSNTpD9Gm4clp">
        <form class="post-box">
          <div class="modal-body">
            <div class="row">
              <div class="col-md-12">
                <i style="font-size:12px; color:gray;">Note: The post you will be writing will be published in the yearbook 2021. So please refrain from using offensive or derogatory language. Also Please write atleast 2 to 3 lines.</i>
              </div>
              <div class="col-md-12">
                <input type="hidden" class="col-xs-offset-7 col-xs-offset-5" id="roll_no" name="roll_no" value='17U130002'>
                <div class="data-inputs grey-border-bottom input-actions">
                  <span class="fa fa-user-plus"></span>
                  <div id="post-for"></div>
                </div>
              </div>
              <div class="col-md-12">
                <div class="data-inputs input-actions">
                  <span class="fa fa-pencil"></span>
                  <div class="container full-width">
                    <div class="row justify-content-center">
                      <p class="lead emoji-picker-container">
                        <textarea id="editor1" input="unicode" data-emojiable="true" onkeypress="textAreaChange(this, event)" 
                                  placeholder="Tell this person what they mean to you...(max 700 characters)" data-gramm_editor="false">
                        </textarea>
                      </p>            
                    </div>
                  </div>
                </div>
              </div>

                  <div class="col-md-12">
                    <form>
                      <div class="form-group margin-0 search tagging_div" style="width: 100%">
                        <span class="fa fa-search "></span>
                        <input type="text" class="form-control peopleSearch" id="tagging" aria-describedby="inputGroupSuccess1Status" placeholder="Tag your friends..">
                      </div>
                    </form>
                  </div>
            </div>
          </div>

          <div class="modal-footer">
            <div style="position:fixed;right:2000px;bottom: 2000px;">
                <canvas id="myCanvas" width="1200" height="630">
                </canvas>
                <img id="profile_pic" src="/static/img/default.jpeg" >
                <img id="own_pic" src="/media/170050055-profile-image_ZGlAT9y.png" />
                <img id="thumbnail_pic" src="/static/img/thumbnail.png" />
              </div>
            <fieldset class="text-left display-inline">
              <button type="button" id="delete-post" onclick="deletePost()">Delete</button>
              <button type="button" id="post-sub" onclick="submitPost()">Post</button>
            </fieldset>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<style>
  .tagging_div .easy-autocomplete:hover{
    cursor: pointer;  
  }
</style>
<script>

      // $(function() {
      //   // Initializes and creates emoji set from sprite sheet
      //   window.emojiPicker = new EmojiPicker({
      //     emojiable_selector: '[data-emojiable=true]',
      //     assetsPath: 'http://onesignal.github.io/emoji-picker/lib/img/',
      //     popupButtonClasses: 'fa fa-smile-o'
      //   });
      //   // Finds all elements with `emojiable_selector` and converts them to rich emoji input fields
      //   // You may want to delay this step if you have dynamically created input fields that appear later in the loading process
      //   // It can be called as many times as necessary; previously converted input fields will not be converted again
      //   window.emojiPicker.discover();
      // });
tagging = {};
options  ={
    url : function(phrase){
      if(phrase !== '')
        return "/api/search/?search_string='" + phrase + "'";
      else      
        return "http://api.duckduckgo.com/?q=empty&format=json";
    },
    list : {
      onSelectItemEvent: function() {
        console.log("on select working");
      },
      onClickEvent: function(event) {
        console.log(event);
        let tagged_student = $("#tagging").getSelectedItemData();
        
        console.log(tagged_student.name);
        let curPos = $("#editor1")[0].selectionStart; 
        let prevVal= $("#editor1")[0].value;
        let text_to_insert= "@" + tagged_student.name.split(" ").join("_")+" "

        // setting the updated value in the text area
        $("#editor1")[0].value = (prevVal.slice(0,curPos)+text_to_insert+prevVal.slice(curPos));

        // $("#editor1")[0].value += "@" + tagged_student.name.split(" ").join("_")+" ";
        
        // $("#editor1")[0].value += '<a href="/student-'+tagged_student.roll_no+'">'+ "@" + tagged_student.name.split(" ").join("_")+" "+'</a>';
        // $("#editor1")[0].nextElementSibling.lastElementChild.innerText += "@" + tagged_student.name;
        tagging[tagged_student.name.split(" ").join("_")] = tagged_student;
			  console.log($("#editor1")[0].value);
		  }
      
    },
    getValue : 'name',
    requestDelay : 200,
    template : {
      type : 'custom',
      method : function(value, item){
        html =  ["<div>",
          // "<div>",
          // "<img class='img-responsive' src='" + item.image + "'>",
          // "</div>"
        ]
        if(item.hostel && item.dept)
          html.push("<div><div>" + item.name + "</div><div> " + item.dept + " | Hostel " + item.hostel + "</div></div></a>");
        else if(item.hostel)
          html.push("<div><div>" + item.name + "</div><div> Hostel " + item.hostel + "</div></div></a>");
        else if(item.dept)
          html.push("<div><div>" + item.name + "</div><div> " + item.dept + "</div></div></a>");
        else
          html.push("<div><div>" + item.name + "</div></div></div>");
        return html.join('\n');
      }
    }
  }
  
$("#tagging").easyAutocomplete(options);
</script>
  <!-- ** Don't forget to Add jQuery here ** -->
<script src="/static/emoji-picker/lib/js/config.js"></script>
<script src="/static/emoji-picker/lib/js/util.js"></script>
<script src="/static/emoji-picker/lib/js/jquery.emojiarea.js"></script>
<script src="/static/emoji-picker/lib/js/emoji-picker.js"></script>
		<div class="modal fade" id="myCommentModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-post="NULL">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <img src="/static/img/logo/YearBook_logo_2021.png" class="img-responsive"/>
      </div>
      <div class="memory-container">
        <input type="hidden" name="csrfmiddlewaretoken" value="HzTXlzGavTPZdWKOmmKKw4mqLiHnvAh0Z8C8v2bYCdVfHdIrEmRgSNTpD9Gm4clp">
        <form class="post-box">
          <div class="modal-body">
            <div class="row">
              <div class="col-md-12">
                <i style="font-size:12px; color:gray;">Note: Please refrain from using offensive or derogatory language. Also Please write atleast 2 to 3 lines.</i>
              </div>
              <div class="col-md-12">
                <input type="hidden" class="col-xs-offset-7 col-xs-offset-5" id="roll_no" name="roll_no" value='17U130002'>
                <div class="data-inputs grey-border-bottom input-actions">
                  <span class="fa fa-user-plus"></span>
                  <div id="post-for"></div>
                </div>
              </div>
              <div class="col-md-12">
                <div class="data-inputs input-actions">
                  <span class="fa fa-pencil"></span>
                  <div class="container full-width">
                    <div class="row justify-content-center">
                      <p class="lead emoji-picker-container">
                        <textarea id="editor-comment" input="unicode" data-emojiable="true" onkeypress="textAreaChange(this, event)" 
                                  placeholder="Tell this person what they mean to you...(max 700 characters)" data-gramm_editor="false">
                        </textarea>
                      </p>            
                    </div>
                  </div>
                </div>
              </div>

                  <div class="col-md-12">
                    <form>
                      <div class="form-group margin-0 search tagging_div" style="width: 100%">
                        <span class="fa fa-search "></span>
                        <input type="text" class="form-control peopleSearch" id="tagging-comment" aria-describedby="inputGroupSuccess1Status" placeholder="Tag your friends..">
                      </div>
                    </form>
                  </div>
            </div>
          </div>

          <div class="modal-footer">
            <div style="position:fixed;right:2000px;bottom: 2000px;">
                <canvas id="myCanvas" width="1200" height="630">
                </canvas>
                <img id="profile_pic" src="/static/img/default.jpeg" >
                <img id="own_pic" src="/media/170050055-profile-image_ZGlAT9y.png" />
                <img id="thumbnail_pic" src="/static/img/thumbnail.png" />
              </div>
            <fieldset class="text-left display-inline">
              
              <button type="button" id="img-comment-create">Post</button>
            </fieldset>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<style>
  .tagging_div .easy-autocomplete:hover{
    cursor: pointer;  
  }
</style>
<script>
      // $(function() {
      //   // Initializes and creates emoji set from sprite sheet
      //   window.emojiPicker = new EmojiPicker({
      //     emojiable_selector: '[data-emojiable=true]',
      //     assetsPath: 'http://onesignal.github.io/emoji-picker/lib/img/',
      //     popupButtonClasses: 'fa fa-smile-o'
      //   });
      //   // Finds all elements with `emojiable_selector` and converts them to rich emoji input fields
      //   // You may want to delay this step if you have dynamically created input fields that appear later in the loading process
      //   // It can be called as many times as necessary; previously converted input fields will not be converted again
      //   window.emojiPicker.discover();
      // });
var tagging = {}
// class SearchResponse{
//   name;
//   image;
//   roll_no;
//   dept;
//   hostel;

//   SearchResponse(name, image, roll_no, dept, hostel){
//     this.name = name;
//     this.image = image;
//     this.roll_no = roll_no;
//     this.dept = dept;
//     this.hostel = hostel;
//   }
//   toString(){
//     return this.name;
//   }
// };
// function textTestCallback( range ) {
//     // You do not want to autocomplete a non-empty selection.
//     if ( !range.collapsed ) {
//         return null;
//     }

//     // Use the text match plugin which does the tricky job of performing
//     // a text search in the DOM. The matchCallback function should return
//     // a matching fragment of the text.
//     return CKEDITOR.plugins.textMatch.match( range, matchCallback );
// }

// // Returns the position of the matching text.
// // It matches a word starting from the '#' character
// // up to the caret position.
// function matchCallback( text, offset ) {
//     // Get the text before the caret.
//     var left = text.slice( 0, offset ),
//         // Will look for a '#' character followed by a ticket number.
//         match = left.match( /#\d*$/ );

//     if ( !match ) {
//         return null;
//     }
//     return { start: match.index, end: offset };
// }

// function dataCallback( phrase, callback ) {
//     // Remove the '@' tag.
//     var query = matchInfo.query.substring( 1 );
//     url = function(phrase){
//       if(phrase !== '')
//         return "/api/search/?search_string='" + phrase + "'";
//       else
//         return "http://api.duckduckgo.com/?q=empty&format=json";
//     }
//     var response = function(url){
//       let r = []
//       $.get(url, function onSuccess(data, textStatus, xhr){
//         data.forEach(element => {
//           r.push(SearchResponse(element.name, element.image, element.roll_no, element.dept, element.hostel));
//         });
//       });
//       return r;
//     }
//     callback (response);
// }
// var config =  {
//     textTestCallback: textTestCallback,
//     dataCallback: dataCallback,
//     itemTemplate: '<li data-id="{name}" class="issue-{type}">@{name}</li>',
//     outputTemplate: '<a href="https://yearbook.sarc-iitb.org/student-{roll_no}/">{name}</a>',
//     throttle: 200,
//     mentions: [ { 
//         cache: true,
//         // feed: ['Dhairya','Saijal','Naisadh','Yatin'],
//         feed: function( options, callback ) {
//                   var xhr = new XMLHttpRequest();

//                   xhr.onreadystatechange = function() {
//                       if ( xhr.readyState == 4 ) {
//                           if ( xhr.status == 200 ) {
//                               callback( JSON.parse( this.responseText ) );
//                           } else {
//                               callback( [] );
//                           }
//                       }
//                   }

//                   xhr.open( 'GET', '/api/search/?search_string=' + encodeURIComponent( "Dhairya" ) );
//                   xhr.send();
//               }, 
//         minChars: 3,
//         marker: '@',
//       } 
//     ]
// }
// CKEDITOR.replace('editor-comment', config);

options = {
    url : function(phrase){
      if(phrase !== '')
        return "/api/search/?search_string='" + phrase + "'";
      else
        return "http://api.duckduckgo.com/?q=empty&format=json";
    },
    list : {
      onSelectItemEvent: function() {
        console.log("on select working");
      },
      onClickEvent: function(event) {
        console.log(event);
        let tagged_student = $("#tagging-comment").getSelectedItemData();
        
        // console.log(tagged_student.name);
        // $("#editor-comment")[0].value += "@" + tagged_student.name+" ";
        // $("#editor-comment")[0].nextElementSibling.lastElementChild.innerText += "@" + tagged_student.name+" ";
        // tagging[tagged_student.name] = tagged_student;
			  // console.log($("#editor-comment")[0].value);

        console.log(tagged_student.name);
        // will give the current postion of the cursor
        let curPos = $("#editor-comment")[0].selectionStart; 
        let prevVal= $("#editor-comment")[0].value;
        let text_to_insert= "@" + tagged_student.name.split(" ").join("_")+" ";

        // setting the updated value in the text area
        $("#editor-comment")[0].value = (prevVal.slice(0,curPos)+text_to_insert+prevVal.slice(curPos));

        // $("#editor-comment")[0].value += ;
        
        // $("#editor1")[0].value += '<a href="/student-'+tagged_student.roll_no+'">'+ "@" + tagged_student.name.split(" ").join("_")+" "+'</a>';
        // $("#editor1")[0].nextElementSibling.lastElementChild.innerText += "@" + tagged_student.name;
        tagging[tagged_student.name.split(" ").join("_")] = tagged_student;
			  console.log($("#editor-comment")[0].value);
		  }
      
    },
    getValue : 'name',
    requestDelay : 200,
    template : {
      type : 'custom',
      method : function(value, item)
      {
        html =  ["<div>",
          // "<div>",
          // "<img class='img-responsive' src='" + item.image + "'>",
          // "</div>"
        ]
        if(item.hostel && item.dept)
        {
          html.push("<div><div>" + item.name + "</div><div> " + item.dept + " | Hostel " + item.hostel + "</div></div></a>")
        }
        else if(item.hostel)
        {
          html.push("<div><div>" + item.name + "</div><div> Hostel " + item.hostel + "</div></div></a>")
        }
        else if(item.dept)
        {
          html.push("<div><div>" + item.name + "</div><div> " + item.dept + "</div></div></a>")
        }
        else
        {
          html.push("<div><div>" + item.name + "</div></div></div>")
        }
        return html.join('\n')
      }
    }
  }
  
$("#tagging-comment").easyAutocomplete(options);
// CKEDITOR.plugins.add( 'autotag', {
// 	requires: 'autocomplete,textmatch',

// 	init: function( editor ) {
// 		editor.on( 'instanceReady', function() {
// 			var config = {};

// 			// Called when the user types in the editor or moves the caret.
// 			// The range represents the caret position.
// 			function textTestCallback( range ) {
// 				// You do not want to autocomplete a non-empty selection.
// 				if ( !range.collapsed ) {
// 					return null;
// 				}

// 				// Use the text match plugin which does the tricky job of performing
// 				// a text search in the DOM. The "matchCallback" function should return
// 				// a matching fragment of the text.
// 				return CKEDITOR.plugins.textMatch.match( range, matchCallback );
// 			}

// 			// Returns the position of the matching text.
// 			// It matches a word starting from the '#' character
// 			// up to the caret position.
// 			function matchCallback( text, offset ) {
// 				// Get the text before the caret.
// 				var left = text.slice( 0, offset ),
// 					// Will look for a '#' character followed by a ticket number.
// 					match = left.match( /#\d*$/ );

// 				if ( !match ) {
// 					return null;
// 				}
// 				return {
// 					start: match.index,
// 					end: offset
// 				};
// 			}

// 			config.textTestCallback = textTestCallback;

// 			// The itemsArray variable is the example "database".
// 			var itemsArray = [
// 				{
// 					id: 337,
// 					name: 'Paste from Excel improvements',
// 					type: 'feature'
// 				},
// 				{
// 					id: 440,
// 					name: 'Moving issues to GitHub',
// 					type: 'bug'
// 				},
// 				{
// 					id: 468,
// 					name: 'Support for Clipboard API in Edge',
// 					type: 'task'
// 				},
// 				{
// 					id: 558,
// 					name: 'Prevent copying images from Word',
// 					type: 'feature'
// 				},
// 				{
// 					id: 566,
// 					name: 'CKEditor changes Table Style and Border',
// 					type: 'bug',
// 				},
// 				{
// 					id: 584,
// 					name: 'Fonts setting should not be toggling options',
// 					type: 'feature'
// 				},
// 				{
// 					id: 616,
// 					name: 'Parse function for CSS border param',
// 					type: 'feature'
// 				},
// 				{
// 					id: 648,
// 					name: 'Delete columns work incorrectly with native selection on Chrome',
// 					type: 'bug'
// 				},
// 				{
// 					id: 740,
// 					name: 'selectionChange event integration with tableselection plugin',
// 					type: 'feature'
// 				},
// 				{
// 					id: 786,
// 					name: 'Generic manual test for tableselection',
// 					type: 'task'
// 				},
// 				{
// 					id: 856,
// 					name: 'Introduce tools.keystrokeToArray method',
// 					type: 'feature'
// 				},
// 				{
// 					id: 859,
// 					name: 'Double-click on link opens empty link dialog due to bug in getSelectedLink',
// 					type: 'bug'
// 				},
// 				{
// 					id: 932,
// 					name: 'Easy Image plugin',
// 					type: 'feature'
// 				},
// 				{
// 					id: 933,
// 					name: 'Balloon Toolbar',
// 					type: 'feature'
// 				},
// 				{
// 					id: 1010,
// 					name: '"border-color" in tables gets removed',
// 					type: 'bug'
// 				},
// 				{
// 					id: 1529,
// 					name: 'Invalid images selection after paste',
// 					type: 'bug'
// 				},
// 				{
// 					id: 1530,
// 					name: 'Possibility to use custom icons in buttons',
// 					type: 'feature'
// 				},
// 				{
// 					id: 1570,
// 					name: 'Fake selection allows for cutting in a readonly mode',
// 					type: 'bug'
// 				},
// 				{
// 					id: 1703,
// 					name: 'Mentions plugin',
// 					type: 'feature'
// 				},
// 				{
// 					id: 1746,
// 					name: 'Emoji plugin',
// 					type: 'feature'
// 				},
// 				{
// 					id: 1751,
// 					name: 'Autocomplete plugin',
// 					type: 'feature'
// 				},
// 				{
// 					id: 1776,
// 					name: 'Empty placeholder not hidden when blurred',
// 					type: 'bug'
// 				},
// 				{
// 					id: 1993,
// 					name: 'Throttling function',
// 					type: 'feature'
// 				},
// 				{
// 					id: 2062,
// 					name: 'Emoji list button',
// 					type: 'feature'
// 				}
// 			];

// 			// Returns (through its callback) the suggestions for the current query.
// 			function dataCallback( matchInfo, callback ) {
// 				// Remove the '#' tag.
// 				var query = matchInfo.query.substring( 1 );

// 				// Simple search.
// 				// Filter the entire items array so only the items that start
// 				// with the query remain.
// 				var suggestions = itemsArray.filter( function( item ) {
// 					return String( item.id ).indexOf( query ) == 0;
// 				} );

// 				// Note: The callback function can also be executed asynchronously
// 				// so dataCallback can do an XHR request or use any other asynchronous API.
// 				callback( suggestions );
// 			}

// 			config.dataCallback = dataCallback;

// 			// Define the templates of the autocomplete suggestions dropdown and output text.
// 			config.itemTemplate = '<li data-id="{id}" class="issue-{type}">#{id}: {name}</li>';
// 			config.outputTemplate = '<a href="https://github.com/ckeditor/ckeditor4/issues/{id}">{name} (#{id})</a> ';

// 			// Attach autocomplete to the editor.
// 			new CKEDITOR.plugins.autocomplete( editor, config );
// 		} );
// 	}
// } );
</script>

<script src="/static/emoji-picker/lib/js/config.js"></script>
<script src="/static/emoji-picker/lib/js/util.js"></script>
<script src="/static/emoji-picker/lib/js/jquery.emojiarea.js"></script>
<script src="/static/emoji-picker/lib/js/emoji-picker.js"></script>
		
		<div class="modal fade" id="myProfilePicModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
			<div class="modal-dialog profile-img-modal" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<img src="/static/img/logo/YearBook_logo_2021.png" class="img-responsive"/>
					</div>
					<div class="modal-body profile">
						<div class="row text-center">
							<div class="col-xs-12">
								<div id="upload-demo"></div>
							</div>
							<div class="col-xs-12 select-image">
								<strong>Select Image:</strong>
								<input type="file" id="upload" class="upload-image">
							</div>
						</div>

					</div>
					<div class="modal-footer">
						<button type="button" class="YB-button-grey margin-right-18" data-dismiss="modal">Close</button>
						<button type="button" class="YB-button-red" id="upload-result">Save changes</button>
					</div>
				</div>
			</div>
		</div>
		<div class="modal fade" id="myPicModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
			<div class="modal-dialog pic-img-modal" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<img src="/static/img/logo/YearBook_logo_2021.png" class="img-responsive"/>
					</div>
					<div class="modal-body profile">

						<div class="row text-center">
							<div class="col-xs-12">
								<div id="upload-demo-pic"></div>
							</div>
							<div class="col-xs-12 select-image">
								<strong>Select Image:</strong>
								<input type="file" id="uploadPic" class="upload-image-pic">
							</div>
						</div>

					</div>
					<div class="modal-footer">
						<button type="button" class="YB-button-grey margin-right-18" data-dismiss="modal">Close</button>
						<button type="button" class="YB-button-red" id="upload-result-pic">Save changes</button>
					</div>
				</div>
			</div>
		</div>
	

	</body>

</html>
